@page
@model LostAndFoundRazorPages.Pages.LostItemViews.IndexModel

@{
    ViewData["Title"] = "Index";
}

<link rel="stylesheet" href="~/css/datas.css" asp-append-version="true" />


<div class="page-bg">

    <div class="container">

        <!-- HEADER -->

        <div class="header-section d-flex justify-content-between align-items-center">

            <div>

                <h3 class="title">Lost Items</h3>

                <p class="subtitle">

                    Browse reported lost items. You may help reconnect someone with their belonging.

                </p>

            </div>

            <a asp-page="Create" class="btn btn-report">

                Report Lost Item

            </a>

        </div>


        <!-- ITEMS -->

        <div class="row">

            @if (Model.LostItems.Count == 0)
            {
                <div class="col-12">

                    <div class="empty-state">

                        <h5>No lost items reported yet</h5>

                        <p class="text-muted">

                            When items are reported, they will appear here.

                        </p>

                    </div>

                </div>
            }


            @foreach (var item in Model.LostItems)
            {

                <div class="col-md-4 mb-4">

                    <div class="item-card">

                        <!-- IMAGE -->
                        @if (!string.IsNullOrEmpty(item.ImagePath))
                        {
                            <img src="~/@item.ImagePath"
                                 class="item-image" />
                        }
                        else
                        {
                            <img src="https://via.placeholder.com/400x200?text=No+Image"
                                 class="item-image" />
                        }


                        <!-- BODY -->

                        <div class="card-body">

                            <div class="item-title">

                                @item.ItemName

                            </div>


                            <p class="text-muted mt-2">

                                @item.Description

                            </p>


                            <div class="item-location">

                                📍 @item.Location

                            </div>


                            <div class="item-date mt-1">

                                Lost: @item.DateLost.ToString("MMM dd, yyyy")

                            </div>


                            <!-- ACTIONS -->

                            <div class="card-actions mt-3">

                                <a asp-page="./Details"
                                   asp-route-id="@item.Id"
                                   class="action-details">

                                    View

                                </a>

                                <a asp-page="./Edit"
                                   asp-route-id="@item.Id"
                                   class="action-edit">

                                    Edit

                                </a>

                                <a asp-page="./Delete"
                                   asp-route-id="@item.Id"
                                   class="action-delete">

                                    Delete

                                </a>

                            </div>

                        </div>

                    </div>

                </div>

            }

        </div>

    </div>

</div>
